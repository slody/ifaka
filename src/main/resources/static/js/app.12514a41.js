(function(t){function e(e){for(var o,s,c=e[0],l=e[1],r=e[2],u=0,v=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&v.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(v.length)v.shift()();return n.push.apply(n,r||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,c=1;c<a.length;c++){var l=a[c];0!==i[l]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},i={app:0},n=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("0fb7"),a("450d");var o=a("f529"),i=a.n(o),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("menu-part"),a("main-part"),a("foot-part")],1)},c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{app:""}},[a("span",[t._v("© IFaKa - GitHub")])])},r=[],d={},u=d,v=a("2877"),p=a("6544"),m=a.n(p),f=a("553a"),h=Object(v["a"])(u,l,r,!1,null,null,null),g=h.exports;m()(h,{VFooter:f["a"]});var b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-monitor-dashboard")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/index"}},[a("v-list-item-title",[t._v("首页")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-cog-outline")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/siteconfig"}},[a("v-list-item-title",[t._v("网站设置")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-cash-usd-outline")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/payconfig"}},[a("v-list-item-title",[t._v("支付设置")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-list-outline")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/order"}},[a("v-list-item-title",[t._v("订单管理")])],1)],1),a("v-list-group",{attrs:{"prepend-icon":"mdi-store","no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v("商品管理")])],1)]},proxy:!0}])},[a("v-list-item",{attrs:{link:""}},[a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/type"}},[a("v-list-item-title",[t._v("分类管理")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/product"}},[a("v-list-item-title",[t._v("商品管理")])],1)],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-key")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/key"}},[a("v-list-item-title",[t._v("卡密管理")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-sale")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/discount"}},[a("v-list-item-title",[t._v("优惠码管理")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-lock-outline")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/changepassword"}},[a("v-list-item-title",[t._v("密码修改")])],1)],1),a("v-list-item",{attrs:{link:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-clipboard-text-outline")])],1),a("router-link",{staticClass:"v-list-item__content",attrs:{tag:"div",to:"/log"}},[a("v-list-item-title",[t._v("登录日志")])],1)],1),a("v-list-item",{attrs:{link:""},on:{click:t.logout}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-logout")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("退出")])],1)],1)],1)],1),a("v-app-bar",{attrs:{app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",[t._v("后台管理")])],1)],1)},x=[],y=a("3d20"),_=a.n(y),k={data:function(){return{drawer:!1}},methods:{logout:function(){this.$axios.get("/do/logout.do").then((function(){window.location.href="/"})).catch((function(){_.a.fire({icon:"error",title:"后台发生了未知错误",showConfirmButton:!1,timer:1500})}))}}},w=k,V=a("40dc"),C=a("5bc1"),$=a("132d"),T=a("8860"),D=a("56b0"),I=a("da13"),O=a("1800"),S=a("5d23"),j=a("f774"),P=a("2a7f"),E=Object(v["a"])(w,b,x,!1,null,null,null),L=E.exports;m()(E,{VAppBar:V["a"],VAppBarNavIcon:C["a"],VIcon:$["a"],VList:T["a"],VListGroup:D["a"],VListItem:I["a"],VListItemAction:O["a"],VListItemContent:S["a"],VListItemTitle:S["b"],VNavigationDrawer:j["a"],VToolbarTitle:P["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)},q=[],B={},F=B,U=a("a523"),K=a("a75b"),R=Object(v["a"])(F,A,q,!1,null,null,null),M=R.exports;m()(R,{VContainer:U["a"],VContent:K["a"]});var G={name:"App",components:{"foot-part":g,"menu-part":L,"main-part":M},methods:{},data:function(){return{}},created:function(){this.$vuetify.theme.dark=!0}},N=G,Q=a("7496"),H=Object(v["a"])(N,s,c,!1,null,null,null),z=H.exports;m()(H,{VApp:Q["a"]});var J=a("f309");n["default"].use(J["a"]);var Y=new J["a"]({}),W=a("8c4f"),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("今日成交订单数")]),a("v-card-text",[t._v(" "+t._s(t.TodayOrderCount)+" ")])],1)],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"headline"},[t._v("今日收入")]),a("v-card-text",[t._v(" "+t._s(t.TodayIncome)+" ")])],1)],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("总收入")]),a("v-card-text",[t._v(" "+t._s(t.AllIncome)+" ")])],1)],1),a("v-col",{attrs:{md:"3",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("总成交订单数")]),a("v-card-text",[t._v(" "+t._s(t.AllOrderCount)+" ")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("近10条订单查看")]),a("v-divider"),a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v("订单号")]),a("th",[t._v("发起时间")]),a("th",[t._v("状态")])])]),a("tbody",t._l(t.orders,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.orderNumber))]),a("td",[t._v(t._s(e.createTime))]),a("td",[1==e.status?a("v-btn",{staticClass:"ma-2",attrs:{text:"","x-small":"",tile:"",color:"cyan"}},[t._v("已付款")]):t._e(),0==e.status?a("v-btn",{staticClass:"ma-2",attrs:{text:"","x-small":"",tile:"",color:"red"}},[t._v("未付款")]):t._e()],1)])})),0)]},proxy:!0}])})],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("登录信息")]),a("v-divider"),a("v-list",{attrs:{flat:""}},[a("v-list-item-group",[a("v-list-item",[a("v-list-item-content",[t._v(" 上次登录地址 ")]),a("v-list-item-content",[t._v(" "+t._s(t.logininfo.location)+" ")])],1),a("v-list-item",[a("v-list-item-content",[t._v(" 上次登录时间 ")]),a("v-list-item-content",[t._v(" "+t._s(t.logininfo.time)+" ")])],1),a("v-list-item",[a("v-list-item-content",[t._v(" 上次登录ip ")]),a("v-list-item-content",[t._v(" "+t._s(t.logininfo.ip)+" ")])],1),a("v-list-item",[a("v-list-item-content",[t._v(" 上次登录UA ")]),a("v-list-item-content",[t._v(" "+t._s(t.logininfo.ua)+" ")])],1)],1)],1)],1)],1)],1)],1)},Z=[],tt={data:function(){return{logininfo:{},orders:[],AllIncome:0,TodayOrderCount:0,TodayIncome:0,AllOrderCount:0}},created:function(){var t=this;this.$axios.get("/do/getlastlogininfo.do").then((function(e){t.logininfo=e.data})),this.$axios.get("/do/selectlast10order.do").then((function(e){t.orders=e.data})),this.$axios.get("/do/getbasicinfo.do").then((function(e){t.AllIncome=e.data.AllIncome,t.TodayOrderCount=e.data.TodayOrderCount,t.TodayIncome=e.data.TodayIncome,t.AllOrderCount=e.data.AllOrderCount}))}},et=tt,at=a("8336"),ot=a("b0af"),it=a("99d9"),nt=a("62ad"),st=a("ce7e"),ct=a("1baa"),lt=a("0fd9"),rt=a("1f4f"),dt=Object(v["a"])(et,X,Z,!1,null,null,null),ut=dt.exports;m()(dt,{VBtn:at["a"],VCard:ot["a"],VCardText:it["b"],VCardTitle:it["c"],VCol:nt["a"],VDivider:st["a"],VList:T["a"],VListItem:I["a"],VListItemContent:S["a"],VListItemGroup:ct["a"],VRow:lt["a"],VSimpleTable:rt["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",[a("v-card-title",[t._v(" 网站设置 ")]),a("v-divider"),a("v-container",[a("v-text-field",{attrs:{label:"网站标题",required:""},model:{value:t.configData.title,callback:function(e){t.$set(t.configData,"title",e)},expression:"configData.title"}}),a("v-text-field",{attrs:{label:"网站说明",required:""},model:{value:t.configData.description,callback:function(e){t.$set(t.configData,"description",e)},expression:"configData.description"}}),a("v-text-field",{attrs:{label:"网站关键词",required:""},model:{value:t.configData.keyword,callback:function(e){t.$set(t.configData,"keyword",e)},expression:"configData.keyword"}}),a("v-text-field",{attrs:{accept:"image/*",label:"LOGO地址"},model:{value:t.configData.logo,callback:function(e){t.$set(t.configData,"logo",e)},expression:"configData.logo"}}),a("v-text-field",{attrs:{accept:"image/*",label:"ICO地址"},model:{value:t.configData.ico,callback:function(e){t.$set(t.configData,"ico",e)},expression:"configData.ico"}}),a("v-text-field",{attrs:{accept:"image/*",label:"背景图片地址"},model:{value:t.configData.backgroundImage,callback:function(e){t.$set(t.configData,"backgroundImage",e)},expression:"configData.backgroundImage"}}),a("v-text-field",{attrs:{label:"联系QQ"},model:{value:t.configData.qq,callback:function(e){t.$set(t.configData,"qq",e)},expression:"configData.qq"}}),a("p",[t._v("网站公告:")]),a("yimo-vue-editor",{staticStyle:{color:"black"},model:{value:t.configData.notice,callback:function(e){t.$set(t.configData,"notice",e)},expression:"configData.notice"}}),a("br"),a("v-text-field",{attrs:{outlined:"",label:"网站域名(必须确保外网可以访问,支付回调用)",placeholder:"不要添加http前缀 例如:www.baidu.com"},model:{value:t.configData.domain,callback:function(e){t.$set(t.configData,"domain",e)},expression:"configData.domain"}}),a("v-btn",{attrs:{color:"blue"},on:{click:t.updateConfig}},[t._v("保存")])],1)],1)],1)},pt=[],mt=(a("a4d3"),a("e01a"),a("2004")),ft=a.n(mt),ht={data:function(){return{configData:{}}},components:{YimoVueEditor:ft.a},methods:{updateConfig:function(){var t=this;this.$axios.post("/do/updateconfig.do",{title:this.configData.title,description:this.configData.description,keyword:this.configData.keyword,notice:this.configData.notice,logo:this.configData.logo,ico:this.configData.ico,domain:this.configData.domain,qq:this.configData.qq,backgroundImage:this.configData.backgroundImage}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))}},created:function(){var t=this;this.$axios.get("/do/selectconfig.do").then((function(e){t.configData=e.data}))}},gt=ht,bt=a("8654"),xt=Object(v["a"])(gt,vt,pt,!1,null,null,null),yt=xt.exports;m()(xt,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VContainer:U["a"],VDivider:st["a"],VTextField:bt["a"]});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" 码支付-支付宝 ")]),a("v-container",[a("v-text-field",{attrs:{label:"名称"},model:{value:t.editpaymennt.name,callback:function(e){t.$set(t.editpaymennt,"name",e)},expression:"editpaymennt.name"}}),"codepay"===t.editpaymennt.source?a("div",[a("v-text-field",{attrs:{label:"UID"},model:{value:t.editpaymennt.codepayId,callback:function(e){t.$set(t.editpaymennt,"codepayId",e)},expression:"editpaymennt.codepayId"}}),a("v-text-field",{attrs:{label:"Key"},model:{value:t.editpaymennt.codepayKey,callback:function(e){t.$set(t.editpaymennt,"codepayKey",e)},expression:"editpaymennt.codepayKey"}}),a("v-text-field",{attrs:{label:"Token"},model:{value:t.editpaymennt.codepayToken,callback:function(e){t.$set(t.editpaymennt,"codepayToken",e)},expression:"editpaymennt.codepayToken"}})],1):t._e(),"greenpay"===t.editpaymennt.source?a("div",[a("v-text-field",{attrs:{label:"UID"},model:{value:t.editpaymennt.greenpayUid,callback:function(e){t.$set(t.editpaymennt,"greenpayUid",e)},expression:"editpaymennt.greenpayUid"}}),a("v-text-field",{attrs:{label:"Token"},model:{value:t.editpaymennt.greenpayToken,callback:function(e){t.$set(t.editpaymennt,"greenpayToken",e)},expression:"editpaymennt.greenpayToken"}})],1):t._e(),a("v-btn",{attrs:{color:"primary"},on:{click:t.updatePayment}},[t._v("确认修改")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v(" 添加新的支付方式 ")]),a("v-divider"),a("v-container",[a("v-select",{attrs:{items:t.sourcelist,"item-text":"text","item-value":"value",label:"支付渠道"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}}),a("v-select",{attrs:{items:t.typelist,"item-text":"text","item-value":"value",label:"支付方式"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),a("v-text-field",{attrs:{label:"名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),"codepay"===t.source?a("div",[a("v-text-field",{attrs:{label:"id"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}}),a("v-text-field",{attrs:{label:"Key"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),a("v-text-field",{attrs:{label:"Token"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1):t._e(),"greenpay"===t.source?a("div",[a("v-text-field",{attrs:{label:"UID"},model:{value:t.uid,callback:function(e){t.uid=e},expression:"uid"}}),a("v-text-field",{attrs:{label:"Token"},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1):t._e(),a("v-btn",{attrs:{color:"blue"},on:{click:t.insertPayment}},[t._v("添加")])],1)],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v(" 管理已有的支付方式 ")]),a("v-divider"),a("v-container",[a("v-list",t._l(t.paymentlist,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[t._v(t._s(e.name))]),a("v-list-item-content",[t._v(t._s(e.source)+"-"+t._s(e.type))]),a("v-list-item-content",[a("v-btn",{attrs:{color:"cyan"},on:{click:function(a){t.dialog=!0,t.editpaymennt=e}}},[t._v("编辑")]),a("v-btn",{attrs:{color:"red"},on:{click:function(a){return t.deletePayment(e.id)}}},[t._v("删除")])],1)],1)})),1)],1)],1)],1)],1)],1)},kt=[],wt=(a("b0c0"),{data:function(){return{paymentlist:[],editpaymennt:{},sourcelist:[{text:"码支付",value:"codepay"},{text:"绿点支付",value:"greenpay"}],source:"",typelist:[],type:"",key:"",token:"",uid:"",name:"",dialog:!1}},methods:{deletePayment:function(t){var e=this;this.$axios.get("/do/deletepayment.do/"+t).then((function(t){e.$message({message:t.data.text,type:t.data.status}),"success"===t.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},updatePayment:function(){var t=this;this.$axios({url:"/do/updatepayment.do",method:"post",data:this.editpaymennt}).then((function(e){t.$message({message:e.data.text,type:e.data.status}),"success"===e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},insertPayment:function(){var t=this;"codepay"===this.source?this.$axios.post("/do/insertpayment.do",{type:this.type,name:this.name,source:this.source,codepayId:this.uid,codepayToken:this.token,codepayKey:this.key}).then((function(e){t.$message({message:e.data.text,type:e.data.status}),"success"===e.data.status&&setTimeout((function(){window.location.reload()}),2500)})):"greenpay"===this.source?this.$axios.post("/do/insertpayment.do",{type:this.type,name:this.name,source:this.source,greenpayUid:this.uid,greenpayToken:this.token}).then((function(e){t.$message({message:e.data.text,type:e.data.status}),"success"===e.data.status&&setTimeout((function(){window.location.reload()}),2500)})):this.$message({message:"请选择一个支付渠道",type:"warning"})}},watch:{source:function(t){if(""!==t)if("codepay"===t)this.typelist=[{text:"微信",value:"wx"},{text:"支付宝",value:"zfb"},{text:"QQ",value:"qq"}];else{if("greenpay"!==t)return!1;this.typelist=[{text:"微信",value:"wx"},{text:"支付宝",value:"zfb"}]}}},created:function(){var t=this;this.$axios.get("/do/selectpayment.do").then((function(e){t.paymentlist=e.data}))}}),Vt=wt,Ct=a("169a"),$t=a("b974"),Tt=Object(v["a"])(Vt,_t,kt,!1,null,null,null),Dt=Tt.exports;m()(Tt,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VCol:nt["a"],VContainer:U["a"],VDialog:Ct["a"],VDivider:st["a"],VList:T["a"],VListItem:I["a"],VListItemContent:S["a"],VRow:lt["a"],VSelect:$t["a"],VTextField:bt["a"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",[a("v-card-title",[t._v(" 订单查看 "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"关键词搜索","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{"hide-default-footer":!0,headers:t.headers,items:t.orders,search:t.search,"server-items-length":15},scopedSlots:t._u([{key:"item.status",fn:function(e){var o=e.item;return[1==o.status?a("v-btn",{attrs:{text:"",color:"primary"}},[t._v("已付款")]):a("v-btn",{attrs:{text:"",color:"red"}},[t._v("未付款")])]}}])}),a("v-pagination",{attrs:{circle:"",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)},Ot=[],St={data:function(){return{search:"",page:1,pageCount:0,orders:[],headers:[{text:"商品名称",sortable:!1,value:"productname"},{text:"订单号",sortable:!1,value:"orderNumber"},{text:"创建时间",value:"createTime",sortable:!1},{text:"过期时间",value:"expireTime",sortable:!1},{text:"购买数量",value:"count",sortable:!1},{text:"联系方式",value:"contact",sortable:!1},{text:"应付金额",value:"price",sortable:!1},{text:"实付金额",value:"money",sortable:!1},{text:"支付方式",value:"payment",sortable:!1},{text:"优惠率",value:"discount",sortable:!1},{text:"状态",value:"status",sortable:!1}]}},created:function(){var t=this;this.$axios.get("/do/selectorder.do/"+this.page).then((function(e){console.log(e.data),t.pageCount=e.data.pages,t.orders=e.data.records}))},watch:{page:function(){var t=this;this.$axios.get("/do/selectorder.do/"+this.page).then((function(e){console.log(e.data.records),t.pageCount=e.data.pages,t.orders=e.data.records}))}}},jt=St,Pt=a("8fea"),Et=a("891e"),Lt=a("2fa4"),At=Object(v["a"])(jt,It,Ot,!1,null,null,null),qt=At.exports;m()(At,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VContainer:U["a"],VDataTable:Pt["a"],VPagination:Et["a"],VSpacer:Lt["a"],VTextField:bt["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",[t._v("时间")]),a("th",[t._v("地点")]),a("th",[t._v("IP")]),a("th",[t._v("UA")])])]),a("tbody",t._l(t.records,(function(e,o){return a("tr",{key:o},[a("td",[t._v(t._s(e.time))]),a("td",[t._v(t._s(e.location))]),a("td",[t._v(t._s(e.ip))]),a("td",[t._v(t._s(e.ua))])])})),0)]},proxy:!0}])}),a("v-pagination",{attrs:{length:t.pagecount,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},Ft=[],Ut={data:function(){return{records:[],page:1,pagecount:0}},watch:{page:function(t){var e=this;this.$axios.get("/do/getlog.do/"+t).then((function(t){e.records=t.data.records,e.pagecount=t.data.pages}))}},created:function(){var t=this;this.$axios.get("/do/getlog.do/1").then((function(e){t.records=e.data.records,t.pagecount=e.data.pages}))}},Kt=Ut,Rt=Object(v["a"])(Kt,Bt,Ft,!1,null,null,null),Mt=Rt.exports;m()(Rt,{VContainer:U["a"],VPagination:Et["a"],VSimpleTable:rt["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",[a("v-card-title",[t._v("修改管理员密码")]),a("v-divider"),a("v-container",[a("v-text-field",{attrs:{label:"旧密码"},model:{value:t.opwd,callback:function(e){t.opwd=e},expression:"opwd"}}),a("v-text-field",{attrs:{label:"新密码"},model:{value:t.npwd,callback:function(e){t.npwd=e},expression:"npwd"}}),a("v-text-field",{attrs:{label:"确认新密码"},model:{value:t.rpwd,callback:function(e){t.rpwd=e},expression:"rpwd"}}),a("v-btn",{attrs:{color:"blue"},on:{click:t.update}},[t._v("保存")])],1)],1)],1)},Nt=[],Qt={data:function(){return{opwd:"",npwd:"",rpwd:""}},methods:{update:function(){var t=this;this.$axios.post("/do/updatepassword.do",{op:this.opwd,np:this.npwd,rp:this.rpwd}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0})}))}}},Ht=Qt,zt=Object(v["a"])(Ht,Gt,Nt,!1,null,null,null),Jt=zt.exports;m()(zt,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VContainer:U["a"],VDivider:st["a"],VTextField:bt["a"]});var Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("操作确认")]),a("v-card-text",[t._v("该操作会删除该分类下的所有商品和卡密")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deletetype}},[t._v("确认操作")]),a("v-btn",{attrs:{color:"green",text:""},on:{click:function(e){t.confirm=!1}}},[t._v("取消")])],1)],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("修改分类")])]),a("v-card-text",[a("v-container",[a("v-text-field",{attrs:{label:"分类名称"},model:{value:t.editname,callback:function(e){t.editname=e},expression:"editname"}}),a("v-text-field",{attrs:{label:"分类排名",type:"number",oninput:"this.value = this.value.replace(/[^0-9]/g, '');"},model:{value:t.editsort,callback:function(e){t.editsort=e},expression:"editsort"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("取消")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.edittype}},[t._v("保存")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v("创建新的分类")]),a("v-divider"),a("v-container",[a("v-text-field",{attrs:{label:"分类名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{label:"分类排名(数值越大越靠前)",type:"number",oninput:"this.value = this.value.replace(/[^0-9]/g, '');"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}}),a("v-btn",{attrs:{color:"blue"},on:{click:t.addtype}},[t._v("添加")])],1)],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v("管理已有的分类")]),a("v-divider"),a("v-container",[a("v-list",[a("v-list-item",[a("v-list-item-content",[t._v("分类名称")]),a("v-list-item-content",[t._v("分类排名")]),a("v-list-item-content",[t._v("操作")])],1)],1),a("v-list",t._l(t.types,(function(e,o){return a("v-list-item",{key:o},[a("v-list-item-content",[t._v(t._s(e.name))]),a("v-list-item-content",[t._v(t._s(e.sort))]),a("v-list-item-content",[a("v-btn",{attrs:{color:"cyan"},on:{click:function(a){return t.opendialog(e.name,e.sort,e.id)}}},[t._v("编辑")]),a("v-btn",{attrs:{color:"red"},on:{click:function(a){return t.confirmdialog(e.id)}}},[t._v("删除")])],1)],1)})),1)],1)],1)],1)],1)],1)},Wt=[],Xt={data:function(){return{name:"",sort:"",types:[],dialog:!1,editid:"",editname:"",editsort:"",deletetypeid:"",confirm:!1}},created:function(){var t=this;this.$axios.get("/do/selecttype.do").then((function(e){t.types=e.data}))},methods:{addtype:function(){var t=this;this.$axios.post("/do/inserttype.do",{name:this.name,sort:this.sort}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},opendialog:function(t,e,a){this.editid=a,this.editname=t,this.editsort=e,this.dialog=!0},confirmdialog:function(t){this.deletetypeid=t,this.confirm=!0},deletetype:function(){var t=this;this.confirm=!1,this.$axios.get("/do/deletetype.do/"+this.deletetypeid).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},edittype:function(){var t=this;this.$axios.post("/do/updatetype.do",{id:this.editid,name:this.editname,sort:this.editsort}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))}}},Zt=Xt,te=Object(v["a"])(Zt,Yt,Wt,!1,null,null,null),ee=te.exports;m()(te,{VBtn:at["a"],VCard:ot["a"],VCardActions:it["a"],VCardText:it["b"],VCardTitle:it["c"],VCol:nt["a"],VContainer:U["a"],VDialog:Ct["a"],VDivider:st["a"],VList:T["a"],VListItem:I["a"],VListItemContent:S["a"],VRow:lt["a"],VSpacer:Lt["a"],VTextField:bt["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-dialog",{attrs:{width:"500"},model:{value:t.descdialog,callback:function(e){t.descdialog=e},expression:"descdialog"}},[a("v-card",[a("v-card-title",[t._v("描述预览")]),a("v-divider"),a("v-container",{domProps:{innerHTML:t._s(t.html)}})],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.editdialog,callback:function(e){t.editdialog=e},expression:"editdialog"}},[a("v-card",[a("v-container",[a("v-select",{attrs:{items:t.types,label:"选择分类","item-text":"name","item-value":"id"},model:{value:t.editproduct.typeid,callback:function(e){t.$set(t.editproduct,"typeid",e)},expression:"editproduct.typeid"}}),a("v-text-field",{attrs:{label:"商品名"},model:{value:t.editproduct.name,callback:function(e){t.$set(t.editproduct,"name",e)},expression:"editproduct.name"}}),a("v-text-field",{attrs:{label:"定价",type:"number"},model:{value:t.editproduct.price,callback:function(e){t.$set(t.editproduct,"price",e)},expression:"editproduct.price"}}),a("v-switch",{attrs:{label:"开启自动发货"},model:{value:t.editproduct.auto,callback:function(e){t.$set(t.editproduct,"auto",e)},expression:"editproduct.auto"}}),a("p",[t._v("商品描述:")]),a("yimo-vue-editor",{staticStyle:{color:"black"},model:{value:t.editproduct.description,callback:function(e){t.$set(t.editproduct,"description",e)},expression:"editproduct.description"}}),a("br"),a("v-btn",{attrs:{color:"blue"},on:{click:t.edit}},[t._v("修改")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("操作确认")]),a("v-card-text",[t._v("该操作会删除该商品下的所有卡密")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:t.deleteproduct}},[t._v("确认操作")]),a("v-btn",{attrs:{color:"green",text:""},on:{click:function(e){t.confirm=!1}}},[t._v("取消")])],1)],1)],1),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v("添加商品")]),a("v-divider"),a("v-container",[a("v-select",{attrs:{items:t.types,label:"选择分类","item-text":"name","item-value":"id"},model:{value:t.product.type,callback:function(e){t.$set(t.product,"type",e)},expression:"product.type"}}),a("v-text-field",{attrs:{label:"商品名"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}),a("v-text-field",{attrs:{label:"定价",type:"number"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}}),a("v-switch",{attrs:{label:"开启自动发货"},model:{value:t.product.auto,callback:function(e){t.$set(t.product,"auto",e)},expression:"product.auto"}}),a("p",[t._v("商品描述:")]),a("yimo-vue-editor",{staticStyle:{color:"black"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}}),a("br"),a("v-btn",{attrs:{color:"blue"},on:{click:t.addproduct}},[t._v("添加")])],1)],1)],1),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-card",[a("v-card-title",[t._v("管理商品")]),a("v-divider"),a("v-container",[a("v-expansion-panels",t._l(t.shops,(function(e,o){return a("v-expansion-panel",{key:o},[a("v-expansion-panel-header",[t._v(t._s(o))]),a("v-expansion-panel-content",[a("v-divider"),e.length<=0?a("h1",[t._v("该分类下暂无商品")]):t._l(e,(function(e,o){return a("v-card",{key:o},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[t._v(t._s(e.name))]),a("v-spacer"),0==e.status?a("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-btn",t._g({staticClass:"ma-1",attrs:{dark:"",fab:"","x-small":""},on:{click:function(a){return t.sale(e.id)}}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-cart")])],1)]}}],null,!0)},[a("span",[t._v("上架")])]):a("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-btn",t._g({staticClass:"ma-1",attrs:{dark:"",fab:"","x-small":""},on:{click:function(a){return t.nosale(e.id)}}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-cart-off")])],1)]}}],null,!0)},[a("span",[t._v("下架")])]),a("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-btn",t._g({staticClass:"ma-1",attrs:{dark:"",fab:"","x-small":""},on:{click:function(a){return t.openeditdialog(e)}}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[t._v("编辑")])]),a("v-tooltip",{attrs:{top:"",color:"black"},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-btn",t._g({staticClass:"ma-1",attrs:{dark:"",fab:"","x-small":""},on:{click:function(a){return t.openconfirmdialog(e.id)}}},i),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-trash-can-outline")])],1)]}}],null,!0)},[a("span",[t._v("删除")])])],1),a("v-list",{attrs:{flat:""}},[a("v-list-item",[a("v-list-item-content",[t._v("ID")]),a("v-list-item-content",[t._v(t._s(e.id))])],1),a("v-list-item",[a("v-list-item-content",[t._v("库存")]),a("v-list-item-content",[t._v(t._s(e.stock))])],1),a("v-list-item",[a("v-list-item-content",[t._v("价格")]),a("v-list-item-content",[t._v(" ¥ "+t._s(e.price)+" ")])],1),a("v-list-item",[a("v-list-item-content",[t._v("自动发货")]),a("v-list-item-content",[1==e.auto?a("v-btn",{attrs:{text:"",color:"success"}},[t._v("是")]):a("v-btn",{attrs:{text:"",color:"error"}},[t._v("否")])],1)],1),a("v-list-item",[a("v-list-item-content",[t._v("描述")]),a("v-list-item-content",[a("v-btn",{attrs:{color:"primary"},on:{click:function(a){return t.opendescdialog(e.description)}}},[t._v("查看")])],1)],1)],1)],1)}))],2)],1)})),1)],1)],1)],1)],1)],1)},oe=[],ie={components:{YimoVueEditor:ft.a},created:function(){var t=this;this.$axios.get("/do/selecttype.do").then((function(e){t.types=e.data})),this.$axios.get("/do/selectproduct.do").then((function(e){t.shops=e.data}))},data:function(){return{product:{type:"",name:"",price:"",auto:!0,description:""},editproduct:{},types:[],shops:[],descdialog:!1,editdialog:!1,html:"",confirm:!1,deleteproductid:""}},methods:{sale:function(t){var e=this;this.$axios.get("/do/sale.do/"+t).then((function(t){e.$message({message:t.data.text,type:t.data.status,showClose:!0}),"success"==t.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},nosale:function(t){var e=this;this.$axios.get("/do/nosale.do/"+t).then((function(t){e.$message({message:t.data.text,type:t.data.status,showClose:!0}),"success"==t.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},edit:function(){var t=this;this.$axios.post("/do/updateproduct.do",{id:this.editproduct.id,typeid:this.editproduct.typeid,name:this.editproduct.name,price:this.editproduct.price,auto:this.editproduct.auto?1:0,description:this.editproduct.description}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},openeditdialog:function(t){this.editproduct=t,this.editdialog=!0},opendescdialog:function(t){this.descdialog=!0,this.html=t},addproduct:function(){var t=this;this.$axios.post("/do/insertproduct.do",{typeid:this.product.type,name:this.product.name,price:this.product.price,auto:this.product.auto?1:0,description:this.product.description}).then((function(e){t.$message({type:e.data.status,showClose:!0,message:e.data.text}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},openconfirmdialog:function(t){this.deleteproductid=t,this.confirm=!0},deleteproduct:function(){var t=this;this.confirm=!1,this.$axios.get("/do/deleteproduct/"+this.deleteproductid).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))}}},ne=ie,se=a("cd55"),ce=a("49e2"),le=a("c865"),re=a("0393"),de=a("b73d"),ue=a("71d9"),ve=a("3a2f"),pe=Object(v["a"])(ne,ae,oe,!1,null,null,null),me=pe.exports;m()(pe,{VBtn:at["a"],VCard:ot["a"],VCardActions:it["a"],VCardText:it["b"],VCardTitle:it["c"],VCol:nt["a"],VContainer:U["a"],VDialog:Ct["a"],VDivider:st["a"],VExpansionPanel:se["a"],VExpansionPanelContent:ce["a"],VExpansionPanelHeader:le["a"],VExpansionPanels:re["a"],VIcon:$["a"],VList:T["a"],VListItem:I["a"],VListItemContent:S["a"],VRow:lt["a"],VSelect:$t["a"],VSpacer:Lt["a"],VSwitch:de["a"],VTextField:bt["a"],VToolbar:ue["a"],VToolbarTitle:P["a"],VTooltip:ve["a"]});var fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{md:"5",cols:"12"}},[a("v-card",[a("v-card-title",[t._v("生成优惠券")]),a("v-divider"),a("v-container",[a("v-text-field",{attrs:{label:"优惠率(最终价格 = 原价 - 原价 × 优惠率)",type:"number","append-icon":"mdi-percent"},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}}),a("v-text-field",{attrs:{label:"数量",type:"number",oninput:"this.value = this.value.replace(/[^0-9]/g, '');"},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}}),a("v-btn",{attrs:{color:"blue"},on:{click:t.addcode}},[t._v("生成")])],1)],1)],1),a("v-col",{attrs:{md:"7",cols:"12"}},[a("v-card",[a("v-card-title",{staticClass:"text-left"},[t._v("管理优惠券")]),a("v-card-title",[a("v-btn",{attrs:{color:"red"},on:{click:t.deletecode}},[a("v-icon",[t._v("mdi-trash-can-outline")]),t._v("删除选中")],1)],1),a("v-divider"),a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-default-footer":!0,"disable-pagination":!0,"disable-sort":!0,headers:t.headers,items:t.records,"item-key":"id","show-select":""},scopedSlots:t._u([{key:"item.discount",fn:function(e){var a=e.item;return[t._v(" "+t._s(100*a.discount)+" ")]}},{key:"item.status",fn:function(e){var o=e.item;return[0==o.status?a("v-btn",{attrs:{text:"",color:"green"}},[t._v("未使用")]):a("v-btn",{attrs:{text:"",color:"red"}},[t._v("已使用")])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("v-pagination",{attrs:{circle:"",length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)},he=[],ge={data:function(){return{discount:"",count:"",dialog:!1,selected:[],page:1,pageCount:10,headers:[{text:"id",sortable:!1,value:"id"},{text:"优惠率(%)",value:"discount",sortable:!1},{text:"优惠码",value:"code",sortable:!1},{text:"创建时间",value:"createTime",sortable:!1},{text:"状态",value:"status",sortable:!1}],records:[]}},methods:{confirm:function(){this.dialog=!1,window.location.reload()},addcode:function(){var t=this;this.$axios.post("/do/insertdiscount.do",{discount:this.discount,count:this.count}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},deletecode:function(){var t=this;if(this.selected.length>0){var e=[];for(var a in this.selected)e.push(this.selected[a].id);this.$axios.post("/do/deletediscount.do",{ids:e}).then((function(e){t.$message({showClose:!0,message:e.data.text,type:e.data.status}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))}}},created:function(){var t=this;this.$axios.get("/do/selectdiscount.do/"+this.page).then((function(e){t.pageCount=e.data.pages,t.records=e.data.records}))},watch:{page:function(){var t=this;this.$axios.get("/do/selectdiscount.do/"+this.page).then((function(e){t.pageCount=e.data.pages,t.records=e.data.records}))}}},be=ge,xe=Object(v["a"])(be,fe,he,!1,null,"6ac3f2f1",null),ye=xe.exports;m()(xe,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VCol:nt["a"],VContainer:U["a"],VDataTable:Pt["a"],VDivider:st["a"],VIcon:$["a"],VPagination:Et["a"],VRow:lt["a"],VTextField:bt["a"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-card",[a("v-card-title",[t._v("批量添加卡密")]),a("v-divider"),a("v-container",[a("v-select",{attrs:{label:"选择分类",items:t.types,"item-text":"name","item-value":"id"},model:{value:t.selectedtype,callback:function(e){t.selectedtype=e},expression:"selectedtype"}}),a("v-select",{attrs:{label:"选择商品",items:t.products,"item-text":"name","item-value":"id"},model:{value:t.selectedproduct,callback:function(e){t.selectedproduct=e},expression:"selectedproduct"}}),a("v-textarea",{attrs:{label:"输入卡密(一行一个)"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),a("v-btn",{attrs:{color:"blue"},on:{click:t.addkey}},[t._v("添加")])],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-card",[a("v-card-title",[t._v("管理卡密")]),a("v-card-title",[a("v-btn",{attrs:{color:"red"},on:{click:t.deletekey}},[a("v-icon",[t._v("mdi-trash-can-outline")]),t._v("删除选中")],1)],1),a("v-divider"),a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{"hide-default-footer":!0,"disable-pagination":!0,"disable-sort":!0,headers:t.headers,items:t.keys,"item-key":"id","show-select":""},scopedSlots:t._u([{key:"item.productid",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.allproducts[a.productid])+" ")]}},{key:"item.sold",fn:function(e){var o=e.item;return[1==o.sold?a("v-btn",{attrs:{text:"",color:"red"}},[t._v("已出售")]):a("v-btn",{attrs:{text:"",color:"green"}},[t._v("未出售")])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("v-pagination",{attrs:{length:t.pagecount,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1)],1)],1)},ke=[],we=(a("4160"),a("d3b7"),a("159b"),a("ddb0"),{data:function(){return{selectedtype:"",selectedproduct:"",key:"",types:[],products:[],keys:[],page:1,pagecount:0,allproducts:{},selected:[],headers:[{text:"id",sortable:!1,value:"id"},{text:"商品名",value:"productid",sortable:!1},{text:"卡密内容",value:"code",sortable:!1},{text:"状态",value:"sold",sortable:!1}]}},methods:{addkey:function(){var t=this;this.$axios.post("/do/insertkey.do",{productid:this.selectedproduct,typeid:this.selectedtype,key:this.key}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))},deletekey:function(){var t=this,e=[];for(var a in this.selected)e.push(this.selected[a].id);this.$axios.post("/do/deletekey.do",{ids:e}).then((function(e){t.$message({message:e.data.text,type:e.data.status,showClose:!0}),"success"==e.data.status&&setTimeout((function(){window.location.reload()}),2500)}))}},created:function(){var t=this;this.$axios.get("/do/selecttype.do").then((function(e){t.types=e.data})),this.$axios.get("/do/selectallproduct.do").then((function(e){e.data.forEach((function(e){t.allproducts[e.id]=e.name}))})),this.$axios.get("/do/selectkey.do/1").then((function(e){t.keys=e.data.records,t.pagecount=e.data.pages}))},watch:{selectedtype:function(t){var e=this;this.$axios.get("/do/selectproductbytypeid.do/"+t).then((function(t){e.products=t.data}))},page:function(t){var e=this;this.$axios.get("/do/selectkey.do/"+t).then((function(t){e.keys=t.data.records,e.pagecount=t.data.pages}))}}}),Ve=we,Ce=a("a844"),$e=Object(v["a"])(Ve,_e,ke,!1,null,"b2c1dbc8",null),Te=$e.exports;m()($e,{VBtn:at["a"],VCard:ot["a"],VCardTitle:it["c"],VCol:nt["a"],VContainer:U["a"],VDataTable:Pt["a"],VDivider:st["a"],VIcon:$["a"],VPagination:Et["a"],VRow:lt["a"],VSelect:$t["a"],VTextarea:Ce["a"]});var De=new W["a"]({routes:[{path:"/",redirect:"/index"},{path:"/index",component:ut},{path:"/siteconfig",component:yt},{path:"/payconfig",component:Dt},{path:"/order",component:qt},{path:"/log",component:Mt},{path:"/changepassword",component:Jt},{path:"/type",component:ee},{path:"/product",component:me},{path:"/discount",component:ye},{path:"/key",component:Te}]}),Ie=a("bc3a"),Oe=a.n(Ie);n["default"].use(W["a"]),n["default"].config.productionTip=!1,n["default"].prototype.$axios=Oe.a,n["default"].prototype.$message=i.a,Oe.a.interceptors.response.use((function(t){return t}),(function(t){if(t.response){if(403!=t.response.status)return i()({message:"后台发生了未知错误",type:"error",showClose:!0,duration:5e3}),t;window.location.href="/:/login"}})),new n["default"]({vuetify:Y,render:function(t){return t(z)},router:De}).$mount("#app")}});
//# sourceMappingURL=app.12514a41.js.map